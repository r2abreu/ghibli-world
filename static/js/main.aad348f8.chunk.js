(this["webpackJsonpghibli-world"]=this["webpackJsonpghibli-world"]||[]).push([[0],{41:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),i=n.n(r),o=n(16),s=n(3),u=n(4),a=n.n(u),l=n(7),j=n(5),h=n.n(j),d=h.a.create({baseURL:"https://ghibliapi.herokuapp.com"}),b=(h.a.create({baseURL:"https://www.googleapis.com/youtube/v3"}),function(e){var t=e.showSuggestions,n=e.userInput,r=e.filteredSuggestion,i=e.activeSuggestion,o=e.onClick;return t&&n?r.length?Object(c.jsx)("ul",{className:"suggestions",children:r.map((function(e,t){var n;return t===i&&(n="suggestion-active"),Object(c.jsx)("li",{className:n,onClick:o,children:e.title},e.title)}))}):Object(c.jsx)("div",{className:"no-suggestions",children:Object(c.jsx)("em",{children:"Sin coincidencias."})}):null}),p=function(e){var t=e.movies,n=e.showAutocomplete,o=e.onInputChange,u=e.userInput,a=Object(r.useState)(0),l=Object(s.a)(a,2),j=l[0],h=l[1],d=Object(r.useState)([]),p=Object(s.a)(d,2),O=p[0],f=p[1],m=Object(r.useState)(!1),g=Object(s.a)(m,2),v=g[0],x=g[1],w=function(e){f([]),x(!1),o(e.currentTarget.innerText)};return Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(c.jsx)("input",{type:"text",onChange:function(e){var n=t;o(e.currentTarget.value);var c=n.filter((function(e){return e.title.toLowerCase().indexOf(u.toLowerCase())>-1}));h(0),f(c),x(!0),o(e.currentTarget.value)},onKeyDown:function(e){if(13===e.keyCode)x(!1),o(O[j].title);else if(38===e.keyCode){if(0===j)return;h(--j)}else if(40===e.keyCode){if(j-1===O.length)return;h(++j)}},value:u,placeholder:"Search for Movies",id:"searchBar",autoComplete:"off"})}),n?Object(c.jsx)(b,{showSuggestions:v,userInput:u,filteredSuggestion:O,onClick:w,activeSuggestion:j}):null]})},O=function(e){var t=e.children,n=e.hideAutocomplete,i=Object(r.useRef)(null);return function(e,t){Object(r.useEffect)((function(){document.addEventListener("mousedown",(function(n){e.current&&!e.current.contains(n.target)?t("hide"):t("show")}))}),[e,t])}(i,n),Object(c.jsx)("div",{ref:i,children:t})},f=function(e){var t=e.movies,n=e.showAutocomplete,r=e.hideAutocomplete,o=e.onInputChange,s=e.userInput;return Object(c.jsx)(i.a.Fragment,{children:Object(c.jsx)(O,{hideAutocomplete:r,children:Object(c.jsx)(p,{movies:t,showAutocomplete:n,onInputChange:o,userInput:s})})})},m=function(e){var t=e.movies,n=e.showAutocomplete,r=e.hideAutocomplete,i=e.onInputChange,o=e.userInput;return Object(c.jsxs)("header",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Ghibli World"})}),Object(c.jsx)(f,{movies:t,showAutocomplete:n,hideAutocomplete:r,onInputChange:i,userInput:o})]})},g=function(){return Object(c.jsx)("footer",{children:Object(c.jsx)("hr",{})})},v=function(e){var t=e.movies,n=e.showAutocomplete,r=e.hideAutocomplete,o=e.onInputChange,s=e.userInput,u=e.children;return Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)(m,{movies:t,showAutocomplete:n,hideAutocomplete:r,onInputChange:o,userInput:s}),Object(c.jsx)("main",{children:u}),Object(c.jsx)(g,{})]})},x=function(e){e.userInput;return Object(c.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/bskgNOXbdiE",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Placeholder iframe"})},w=function(e){var t=e.userInput,n=e.movies.filter((function(e){return e.title===t})),r=Object(s.a)(n,1)[0];if(r){var i=r.title,o=(r.release_date,r.director),u=r.rt_score,a=r.producer,l=r.description;return Object(c.jsxs)("div",{className:"movie-details",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h2",{children:i})}),Object(c.jsx)("div",{children:Object(c.jsxs)("h3",{children:[u," ",Object(c.jsx)("span",{children:"/ 10"})]})})]}),Object(c.jsx)(x,{userInput:t}),Object(c.jsxs)("p",{children:["".concat(l.slice(0,250),"...")," ",Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/".concat(i),target:"_blank",rel:"noreferrer",children:"Read More"})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:["Director: ",o]}),Object(c.jsxs)("p",{children:["Producer: ",a]})]})]})}return Object(c.jsx)("h4",{children:"Select a Movie"})},I=function(){var e=function(e){var t=Object(r.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1];Object(r.useEffect)((function(){o()}),[]);var o=function(){var t=Object(l.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:n=t.sent,i(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return[c,o]}("films"),t=Object(s.a)(e,1)[0],n=Object(r.useState)(!0),o=Object(s.a)(n,2),u=o[0],j=o[1],h=Object(r.useState)("Ponyo"),b=Object(s.a)(h,2),p=b[0],O=b[1];return Object(c.jsx)(i.a.Fragment,{children:Object(c.jsx)(v,{movies:t,showAutocomplete:u,hideAutocomplete:function(e){j("show"===e)},onInputChange:function(e){O(e)},userInput:p,children:Object(c.jsx)(w,{userInput:p,movies:t})})})};Object(o.render)(Object(c.jsx)(i.a.Fragment,{children:Object(c.jsx)(I,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.aad348f8.chunk.js.map